CREATE TABLE EDITORSETTINGS (
	ID TEXT PRIMARY KEY NOT NULL,
	HandleSize INT NOT NULL,
	PosHandleOffset INT NOT NULL,
	RotHandleOffset INT NOT NULL,
	SelectedHandleColor TEXT NOT NULL,
	UnselectedHandleColor TEXT NOT NULL,
	SelectedProject TEXT,
	DefaultTime INT NOT NULL DEFAULT 100,
	
	ProjectDir TEXT,
	FOREIGN KEY(SelectedProject) REFERENCES PROJECT(ID)
)
^

--Editor defaults
INSERT INTO EDITORSETTINGS (ID, HandleSize, PosHandleOffset, RotHandleOffset, SelectedHandleColor,
	UnselectedHandleColor)
VALUES("acde8f80-c4cd-458c-a20e-a58809f0bc47", 10, 20, 20, "255,0,0,255", "0,255,0,255")
^

CREATE TABLE PROJECT (
	ID TEXT PRIMARY KEY NOT NULL,
	Name TEXT NOT NULL
)
^

CREATE TABLE SKELETON (
	ID TEXT PRIMARY KEY NOT NULL,
	Name TEXT NOT NULL,
	Project TEXT,
	
	FOREIGN KEY(Project) REFERENCES PROJECT(ID)
)
^

CREATE TABLE ANIMATION (
	ID TEXT PRIMARY KEY NOT NULL,
	Name TEXT NOT NULL,
	Skeleton TEXT,
	
	FOREIGN KEY(Skeleton) REFERENCES SKELETON(ID)
)
^

CREATE TABLE FRAME (
	ID TEXT PRIMARY KEY NOT NULL,
	Name TEXT NOT NULL,
	Animation TEXT,
	Skeleton TEXT, --For Master Frame
	IsMaster BOOLEAN NOT NULL,
	SyncFrame TEXT,
	Time INT NOT NULL DEFAULT 0,
	
	FOREIGN KEY(Animation) REFERENCES ANIMATION(ID),
	FOREIGN KEY(Skeleton) REFERENCES SKELETON(ID),
	FOREIGN KEY(SyncFrame) REFERENCES FRAME(ID)
)
^

CREATE TABLE BONE (
	ID TEXT PRIMARY KEY NOT NULL,
	Name TEXT NOT NULL,
	Frame TEXT NOT NULL,
	Location TEXT NOT NULL,
	SyncBone TEXT,
	ParentBone TEXT,
	ParentBoneName TEXT,
	Rotation DOUBLE NOT NULL,
	
	FOREIGN KEY(Frame) REFERENCES FRAME(ID),
	FOREIGN KEY(SyncBone) REFERENCES BONE(ID),
	FOREIGN KEY(ParentBone) REFERENCES BONE(ID)
)
^

CREATE TABLE SPRITE (
	ID TEXT PRIMARY KEY NOT NULL,
	Name TEXT NOT NULL,
	Bone TEXT NOT NULL,
	SyncSprite TEXT,
	Color TEXT,
	
	FOREIGN KEY(Bone) REFERENCES BONE(ID),
	FOREIGN KEY(SyncSprite) REFERENCES SPRITE(ID)
)
^

CREATE TABLE FILTER (
	ID TEXT PRIMARY KEY NOT NULL,
	Sprite TEXT,
	FilterType TEXT NOT NULL,
	Data TEXT NOT NULL,
	Position INT NOT NULL,
	
	FOREIGN KEY(Sprite) REFERENCES SPRITE(ID)
)
^

CREATE TABLE KEYBIND (
	ID TEXT PRIMARY KEY NOT NULL,
	Name TEXT NOT NULL,
	Key INT NOT NULL,
	Ctrl BOOLEAN NOT NULL,
	Shift BOOLEAN NOT NULL,
	Alt BOOLEAN NOT NULL
)
^

CREATE TABLE PATH (
	ID TEXT PRIMARY KEY NOT NULL,
	Sprite TEXT,
	PathOrder INT NOT NULL,
	PathType INT NOT NULL,
	X1 DOUBLE,
	Y1 DOUBLE,
	X2 DOUBLE,
	Y2 DOUBLE,
	X3 DOUBLE,
	Y3 DOUBLE,
	
	FOREIGN KEY(Sprite) REFERENCES SPRITE(ID)
)
^

--Keybind defaults
INSERT INTO KEYBIND (ID, Name, Key, Ctrl, Shift, Alt)
VALUES("ee243610-875c-445d-84d9-bd7cbec56cdf", "Undo", 90, True, False, False)
^
INSERT INTO KEYBIND (ID, Name, Key, Ctrl, Shift, Alt)
VALUES("aa3dd341-9b14-4ff2-a80b-5adba39c4394", "Redo", 89, True, False, False)
^
INSERT INTO KEYBIND (ID, Name, Key, Ctrl, Shift, Alt)
VALUES("4a36dcb0-d379-49d4-9093-b07bc9215aa1", "Snap", 16, False, False, False)
^
INSERT INTO KEYBIND (ID, Name, Key, Ctrl, Shift, Alt)
VALUES("f2792d5e-7e8d-4d27-8eee-0d2d01bdc703", "Render", 82, False, False, False)
^
INSERT INTO KEYBIND (ID, Name, Key, Ctrl, Shift, Alt)
VALUES("c939e78d-6c1d-495b-9ad4-780bf87a1d8f", "Save", 83, True, False, False)
^